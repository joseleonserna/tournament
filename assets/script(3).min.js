!function(e){"use strict";jQuery(".live-results-block").each((function(e){const r=jQuery(this),s=r.data("scores-api");o();let a=setInterval((function(){o()}),15e3);function n(e,r){if(r.find(".score-player-mugshot").html(`<img src="/wp-json/afz/v1/player/${e.id}/mugshot/redirect" alt="" />`),r.find(".score-player-name").text(e.name??""),r.find(".score-player-flag").html('<img src="'+e.flag+'" alt="" />'),r.find(".score-player-score").first().text(e.scores[0]??"0"),e.scores.length>1)for(let s=1;s<e.scores.length;s++)r.find(".score-player-score").last().after(`<div class="score-player-score">${e.scores[s]??"0"}</div>`)}function o(){s?jQuery.get(s).done((function(e){if(Array.isArray(e)&&e.length>0){r.removeClass("hide"),r.find(".score").remove();for(let s=0;s<e.length;s++){const a=e[s];if(a){let e=jQuery('<a href="#" class="score">\n        <div class="score-player">\n            <div class="score-player-mugshot"></div>\n            <div class="score-player-name"></div>\n            <div class="score-player-flag"></div>\n            <div class="score-player-score ml-auto"></div>\n        </div>\n        <div class="score-player has-border-top">\n            <div class="score-player-mugshot"></div>\n            <div class="score-player-name"></div>\n            <div class="score-player-flag"></div>\n            <div class="score-player-score ml-auto"></div>\n        </div>\n        <div class="score-tournament">\n            <div class="score-tournament-round"></div>\n            <div class="score-tournament-name"></div>\n            <div class="score-tournament-icon"><i class="fac fa fa-arrow-right"></i></div>\n        </div>\n    </a>'),s=e.find(".score-player").first();s&&a.players[0]&&n(a.players[0],s);let o=e.find(".score-player").last();o&&a.players[1]&&n(a.players[1],o),e.find(".score-tournament-name").text(a.tournament??""),e.find(".score-tournament-round").text(a.round??"");let t="/tournaments/";a.hasOwnProperty("tournamentId")&&a.tournamentId&&(t+="?tournament_id="+a.tournamentId),e.attr("href",t),r.append(e)}}}else r.addClass("hide")})).fail((function(e){console.log("Unable to refresh scores"),clearInterval(a)})):console.error("No scores API defined")}}))}(jQuery);